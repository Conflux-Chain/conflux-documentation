---
displayed_sidebar: generalSidebar
---

# æ˜ å°„ vs åŠ¨æ€æ•°ç»„

åœ¨ Solidity ä¸­ï¼Œä¸åŒçš„æ•°æ®ç»“æ„ä¼šæ˜¾è‘—å½±å“å› åˆçº¦æ“ä½œè€Œäº§ç”Ÿçš„ gas æˆæœ¬ã€‚ æœ¬æ–‡æ¢è®¨äº†åœ¨æ‰§è¡Œæ’å…¥ã€åˆ é™¤å’Œæ£€ç´¢ç­‰å…¸å‹æ“ä½œæ—¶ï¼Œ**æ˜ å°„** å’Œ **åŠ¨æ€æ•°ç»„** åœ¨ gas ä½¿ç”¨ä¸Šçš„å·®å¼‚ã€‚ äº†è§£è¿™äº›å·®å¼‚å¯ä»¥å¸®åŠ©å¼€å‘è€…ä¼˜åŒ–ä»–ä»¬çš„æ™ºèƒ½åˆçº¦ï¼Œä»¥ä¼˜åŒ–åˆçº¦åŠŸèƒ½å¹¶æ§åˆ¶æˆæœ¬ã€‚

Solidity æä¾›äº†æ˜ å°„å’ŒåŠ¨æ€æ•°ç»„è¿™ä¸¤ç§çµæ´»çš„æ•°æ®ç»“æ„ã€‚ æ˜ å°„æä¾›äº†ä¸€ç§é«˜æ•ˆçš„é”®å€¼å­˜å‚¨æœºåˆ¶ï¼Œé€šå¸¸æ¯”åŠ¨æ€æ•°ç»„çš„æ“ä½œèŠ±è´¹çš„ gas æ›´å°‘ï¼Œå› ä¸ºåŠ¨æ€æ•°ç»„çš„å¤§å°é€šå¸¸å¯å˜ä¸”éœ€è¦æ›´å¤æ‚çš„ç®¡ç†ã€‚

**ä»£ç æ¼”ç¤º**

ä»¥ä¸‹æ˜¯æ¼”ç¤ºæ˜ å°„å’ŒåŠ¨æ€æ•°ç»„çš„å…¸å‹ç”¨æ³•çš„ä¸¤ä¸ªåˆçº¦ã€‚ è¿™äº›ç¤ºä¾‹å±•ç¤ºäº†æ¯ç§æ“ä½œçš„ gas æˆæœ¬ã€‚

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.13;

contract UseMapping {
    mapping(uint => uint) public data;

    // æ’å…¥: 22,385 gas
    function insert(uint key, uint value) public {
        data[key] = value;
    }

    // åˆ é™¤: 305 gas
    function remove(uint key) public {
        delete data[key];
    }

    // æ£€ç´¢: 451 gas
    function get(uint key) public view returns (uint) {
        return data[key];
    }
}

contract UseArray {
    uint[] public data;

    // æ’å…¥: 44,442 gas
    function insert(uint value) public {
        data.push(value);
    }

    // åˆ é™¤: 748 gas
    function remove(uint index) public {
        require(index < data.length, "Index out of bounds");
        for (uint i = index; i < data.length - 1; i++) {
            data[i] = data[i + 1];
        }
        data.pop();
    }

    // æ£€ç´¢: 710 gas
    function get(uint index) public view returns (uint) {
        require(index < data.length, "Index out of bounds");
        return data[index];
    }
}
```

**æ˜ å°„**ï¼šé€‚ç”¨äºé”®å’Œå€¼ä¹‹é—´æ˜¯å¼ºå…³è”çš„æƒ…å†µã€‚ åœ¨æ’å…¥å’Œæ£€ç´¢æ“ä½œä¸­ï¼Œæ˜ å°„å¯ä»¥ååˆ†é«˜æ•ˆåœ°æ§åˆ¶ gas æ¶ˆè€—ï¼Œå› æ­¤åœ¨è®¿é—®æ¨¡å¼ä¸å¯é¢„æµ‹çš„å¤§æ•°æ®é›†ä¸­æ˜ å°„ååˆ†é€‚ç”¨ã€‚ ä¸æ•°ç»„ä¸åŒï¼Œæ˜ å°„ä¸ä¼šè¿›è¡Œè¾¹ç•Œæ£€æŸ¥ï¼Œè™½ç„¶è¿™ä¸€ç‰¹æ€§å¯ä»¥èŠ‚çœè®¿é—®å…ƒç´ æ—¶çš„ gas æ¶ˆè€—ï¼Œä½†éœ€è¦å°å¿ƒå› ä¸ºè¯»å–åˆ°ä¸å­˜åœ¨çš„é”®è€Œå¯¼è‡´å‡ºé”™ã€‚

**åŠ¨æ€æ•°ç»„**ï¼šå®ƒä»¬æä¾›äº†é«˜çµæ´»æ€§ï¼Œä½†åœ¨è¿›è¡Œå…ƒç´ ç§»åŠ¨æ“ä½œï¼ˆå¦‚åˆ é™¤ï¼‰æ—¶ gas æˆæœ¬å¯èƒ½å¾ˆé«˜ã€‚ æ¯ä¸ª `push` æ“ä½œä¹Ÿéœ€è¦æˆæœ¬ï¼Œè€Œä¸”å¯èƒ½éšç€æ•°ç»„å¤§å°çš„å¢åŠ è€Œå¢åŠ ã€‚ Solidity ä¸­çš„æ•°ç»„å…·æœ‰å†…ç½®çš„è¾¹ç•Œæ£€æŸ¥ï¼Œè¿™è™½ç„¶å› ä¸ºé˜²æ­¢äº†è¶Šç•Œè®¿é—®è€Œæé«˜äº†å®‰å…¨æ€§ï¼Œä½†ä¹Ÿå¢åŠ äº† gas å¼€é”€ã€‚

å…³äº gas ä¼˜åŒ–çš„å»ºè®®ï¼š

ğŸŒŸ å½“æ‚¨éœ€è¦å­˜å‚¨ä¸€ç³»åˆ—éœ€è¦ç‰¹å®šæ’åºï¼Œå¹¶ä¸”å¯ç”±ç‰¹å®šçš„é”®æˆ–ç´¢å¼•è®¿é—®çš„é¡¹ç›®æ—¶ï¼Œä½¿ç”¨æ˜ å°„å¯ä»¥é€šè¿‡é”®å®ç°é«˜æ•ˆä¸”ç»æµçš„å­˜å‚¨å’Œæ£€ç´¢ã€‚
