"use strict";(self.webpackChunkconflux_docs=self.webpackChunkconflux_docs||[]).push([[6492],{6656:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>o,default:()=>l,frontMatter:()=>c,metadata:()=>a,toc:()=>d});var t=s(85893),i=s(11151);const c={sidebar_position:7,title:"Why TX is Pending?",keywords:["transaction"],displayed_sidebar:"coreSidebar"},o=void 0,a={id:"core/core-space-basics/transactions/why-transaction-is-pending",title:"Why TX is Pending?",description:"\u7531\u4e8e\u5f53\u524d\u7684\u533a\u5757\u94fe\u7cfb\u7edf\u53ef\u80fd\u5b58\u5728\u541e\u5410\u91cf\u4f4e\u548c\u51c6\u5165\u95e8\u69db\u9ad8\u7b49\u95ee\u9898\uff0c\u56e0\u6b64\u901a\u8fc7\u533a\u5757\u94fe\u53d1\u9001\u7684\u67d0\u4e9b\u4ea4\u6613\u53ef\u80fd\u65e0\u6cd5\u88ab\u6253\u5305\u786e\u8ba4\u3002 \u4ee5 Conflux \u4e3a\u4f8b\uff0cConflux \u7f51\u7edc\u901a\u5e38\u6bcf\u79d2\u53ef\u4ee5\u4ea7\u751f\u4e24\u4e2a\u533a\u5757\u3002 \u5728\u4ea4\u6613 \u6210\u529f\u53d1\u9001\u540e \uff0c\u5b83\u5e94\u8be5\u5728\u7ea6 20 \u79d2 \u5185\u88ab\u6253\u5305\u5e76\u6267\u884c\uff0c\u5177\u4f53\u65f6\u95f4\u53d6\u51b3\u4e8e\u7f51\u7edc\u62e5\u585e\u7a0b\u5ea6\u3002 \u5982\u679c\u4ea4\u6613\u957f\u65f6\u95f4\u672a\u88ab\u6253\u5305\uff0c\u5f88\u53ef\u80fd\u51fa\u73b0\u4e86\u95ee\u9898\uff0c\u9700\u8981\u53d1\u9001\u8005\u8fdb\u884c\u624b\u52a8\u5e72\u9884\u3002",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/core/core-space-basics/transactions/why-transaction-is-pending.md",sourceDirName:"core/core-space-basics/transactions",slug:"/core/core-space-basics/transactions/why-transaction-is-pending",permalink:"/zh-CN/docs/core/core-space-basics/transactions/why-transaction-is-pending",draft:!1,unlisted:!1,editUrl:"https://crowdin.com/project/conflux/zh-CN",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7,title:"Why TX is Pending?",keywords:["transaction"],displayed_sidebar:"coreSidebar"},sidebar:"coreSidebar",previous:{title:"Send Transaction Errors",permalink:"/zh-CN/docs/core/core-space-basics/transactions/send-tx-error"},next:{title:"\u5e38\u89c1\u95ee\u9898\u89e3\u7b54",permalink:"/zh-CN/docs/core/core-space-basics/transactions/faqs"}},r={},d=[{value:"\u5982\u4f55\u67e5\u627e\u5f85\u5904\u7406\u4ea4\u6613\u7684\u539f\u56e0\uff1f",id:"\u5982\u4f55\u67e5\u627e\u5f85\u5904\u7406\u4ea4\u6613\u7684\u539f\u56e0",level:2},{value:"Possible Pending Reasons",id:"possible-pending-reasons",level:2},{value:"Wrong Nonce",id:"wrong-nonce",level:3},{value:"Stale Epoch Height",id:"stale-epoch-height",level:3},{value:"\u5185\u90e8\u9519\u8bef",id:"\u5185\u90e8\u9519\u8bef",level:3},{value:"Ready to Pack",id:"ready-to-pack",level:3},{value:"How to solve?",id:"how-to-solve",level:2},{value:"\u5982\u4f55\u6b63\u786e\u8bbe\u7f6e gasPrice\uff1f",id:"\u5982\u4f55\u6b63\u786e\u8bbe\u7f6e-gasprice",level:3}];function h(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["\u7531\u4e8e\u5f53\u524d\u7684\u533a\u5757\u94fe\u7cfb\u7edf\u53ef\u80fd\u5b58\u5728\u541e\u5410\u91cf\u4f4e\u548c\u51c6\u5165\u95e8\u69db\u9ad8\u7b49\u95ee\u9898\uff0c\u56e0\u6b64\u901a\u8fc7\u533a\u5757\u94fe\u53d1\u9001\u7684\u67d0\u4e9b\u4ea4\u6613\u53ef\u80fd\u65e0\u6cd5\u88ab\u6253\u5305\u786e\u8ba4\u3002 \u4ee5 Conflux \u4e3a\u4f8b\uff0cConflux \u7f51\u7edc\u901a\u5e38\u6bcf\u79d2\u53ef\u4ee5\u4ea7\u751f\u4e24\u4e2a\u533a\u5757\u3002 \u5728\u4ea4\u6613",(0,t.jsx)(n.code,{children:"\u6210\u529f\u53d1\u9001\u540e"}),"\uff0c\u5b83\u5e94\u8be5\u5728\u7ea6",(0,t.jsx)(n.code,{children:"20 \u79d2"}),"\u5185\u88ab\u6253\u5305\u5e76\u6267\u884c\uff0c\u5177\u4f53\u65f6\u95f4\u53d6\u51b3\u4e8e\u7f51\u7edc\u62e5\u585e\u7a0b\u5ea6\u3002 \u5982\u679c\u4ea4\u6613\u957f\u65f6\u95f4\u672a\u88ab\u6253\u5305\uff0c\u5f88\u53ef\u80fd\u51fa\u73b0\u4e86\u95ee\u9898\uff0c\u9700\u8981\u53d1\u9001\u8005\u8fdb\u884c\u624b\u52a8\u5e72\u9884\u3002"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Tx Pending",src:s(30032).Z+"",width:"350",height:"402"})}),"\n",(0,t.jsx)(n.h2,{id:"\u5982\u4f55\u67e5\u627e\u5f85\u5904\u7406\u4ea4\u6613\u7684\u539f\u56e0",children:"\u5982\u4f55\u67e5\u627e\u5f85\u5904\u7406\u4ea4\u6613\u7684\u539f\u56e0\uff1f"}),"\n",(0,t.jsxs)(n.p,{children:["\u5982\u679c\u5f85\u5904\u7406\u4ea4\u6613\u5df2\u6210\u529f\u63d2\u5165 ",(0,t.jsx)(n.a,{href:"https://www.confluxscan.io/",children:"ConfluxScan"})," \u4f7f\u7528\u7684\u8282\u70b9\u7684\u4ea4\u6613\u6c60\u4e2d\uff0c\u5219\u53ef\u4ee5\u5728 Scan \u4e0a\u901a\u8fc7\u54c8\u5e0c\u641c\u7d22\u8be5\u4ea4\u6613\uff0c\u5e76\u5728\u4ea4\u6613\u8be6\u7ec6\u4fe1\u606f\u9875\u9762\u4e0a\u67e5\u770b\u4ea4\u6613\u72b6\u6001\u4e3a",(0,t.jsx)(n.code,{children:"Pending"}),"\u3002"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Tx Pending",src:s(58368).Z+"",width:"2786",height:"1408"})}),"\n",(0,t.jsxs)(n.p,{children:["\u6b64\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u8fdb\u5165\u4ea4\u6613\u53d1\u9001\u8005\u7684",(0,t.jsx)(n.code,{children:"\u8d26\u6237\u8be6\u60c5\u9875\u9762"}),"\uff0c\u5e76\u901a\u8fc7\u8d26\u6237\u9875\u9762\u4e0a\u7684",(0,t.jsx)(n.code,{children:"View Pending Txns"}),"\u9009\u9879\u5361\u67e5\u770b\u7528\u6237\u7684\u5f85\u5904\u7406\u4ea4\u6613\u3002"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Tx Pending",src:s(23851).Z+"",width:"2812",height:"1468"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5728\u8fd9\u4e2a\u9009\u9879\u5361\u4e2d\uff0c\u60a8\u53ef\u4ee5\u770b\u5230\u8be5\u7528\u6237\u7684\u5f85\u5904\u7406\u4ea4\u6613\u603b\u6570\u4ee5\u53ca\u6700\u65e9\u7684\u5f85\u5904\u7406\u4ea4\u6613\uff08\u6700\u591a 10 \u7b14\uff09\u3002 The most important thing is that you can also see the ",(0,t.jsx)(n.strong,{children:"pending reasons for the first pending transaction"}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Tx Pending",src:s(35199).Z+"",width:"2826",height:"1286"})}),"\n",(0,t.jsxs)(n.p,{children:["\u8be5\u9875\u9762\u4f7f\u7528 RPC \u65b9\u6cd5 ",(0,t.jsx)(n.a,{href:"/zh-CN/docs/core/build/json-rpc/cfx-namespace#cfx_getaccountpendingtransactions",children:(0,t.jsx)(n.code,{children:"cfx_getAccountPendingTransactions"})})," \u6765\u83b7\u53d6\u4e00\u4e2a\u8d26\u6237\u7684\u5f53\u524d\u5f85\u5904\u7406\u4ea4\u6613\u4fe1\u606f\u3002"]}),"\n",(0,t.jsx)(n.h2,{id:"possible-pending-reasons",children:"Possible Pending Reasons"}),"\n",(0,t.jsx)(n.p,{children:"There are four possible reasons:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Wrong nonce"}),"\n",(0,t.jsx)(n.li,{children:"Stale epoch height"}),"\n",(0,t.jsx)(n.li,{children:"Internal error"}),"\n",(0,t.jsx)(n.li,{children:"Ready to pack"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"wrong-nonce",children:"Wrong Nonce"}),"\n",(0,t.jsx)(n.p,{children:"This kind of error means that the sent transaction used the wrong nonce. Normally, the transaction needs to be executed one by one in the order of nonce. If there are transactions with a smaller nonce pending in the queue or missing, this transaction will wait until all previous transactions are successfully executed."}),"\n",(0,t.jsx)(n.p,{children:"If non-consecutive nonce are used when sending a transaction or if certain transactions in the transaction pool are cleared by garbage collection (GC) during network congestion, it will result in some transactions pending in the transaction pool, unable to be packaged for an extended period."}),"\n",(0,t.jsxs)(n.p,{children:["In this case, we need to ",(0,t.jsx)(n.strong,{children:"resend the transaction with the correct nonce"}),". \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5728\u6240\u6709\u5148\u524d\u7684\u4ea4\u6613\u90fd\u6267\u884c\u5b8c\u6210\u4e4b\u540e\uff08\u5e76\u4e14\u4f59\u989d\u5145\u8db3\u7684\u60c5\u51b5\u4e0b\uff09\uff0c\u5f85\u5904\u7406\u4ea4\u6613\u5c06\u81ea\u52a8\u6267\u884c\u3002"]}),"\n",(0,t.jsx)(n.h3,{id:"stale-epoch-height",children:"Stale Epoch Height"}),"\n",(0,t.jsxs)(n.p,{children:["The error message tells that ",(0,t.jsx)(n.code,{children:"The epoch height of the first tx is too old to be packed. The sender needs to submit a new transaction to update the tx pool."}),". Update the corresponding transaction with a correct ",(0,t.jsx)(n.code,{children:"epochHeight"})," parameter(e.g. use ",(0,t.jsx)(n.code,{children:"cfx_epochNumber"}),") will solve the issue."]}),"\n",(0,t.jsx)(n.h3,{id:"\u5185\u90e8\u9519\u8bef",children:"\u5185\u90e8\u9519\u8bef"}),"\n",(0,t.jsxs)(n.p,{children:["The error message tells that ",(0,t.jsx)(n.code,{children:"The full node internal error. The sender needs to submit a new transaction to update the tx pool."}),". This is typically triggered by certain complex balance setting. Make sure your account has enough balance, then submit a new transaction will solve the issue."]}),"\n",(0,t.jsx)(n.h3,{id:"ready-to-pack",children:"Ready to Pack"}),"\n",(0,t.jsx)(n.p,{children:"This situation means that the transaction itself has reached the conditions that can be packaged, but because the entire network is relatively congested or for other reasons, it has not been packaged."}),"\n",(0,t.jsx)(n.p,{children:"\u5982\u679c\u4ea4\u6613\u957f\u65f6\u95f4\u5904\u4e8e\u8fd9\u79cd\u72b6\u6001\uff0c\u53ef\u4ee5\u9002\u5f53\u63d0\u9ad8\u4ea4\u6613\u7684 gasPrice \u4ee5\u91cd\u65b0\u53d1\u9001\u4ea4\u6613\uff0c\u8fd9\u53ef\u4ee5\u63d0\u9ad8\u4ea4\u6613\u7684\u6253\u5305\u548c\u6267\u884c\u901f\u5ea6\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"how-to-solve",children:"How to solve?"}),"\n",(0,t.jsxs)(n.p,{children:["First make sure your account has enough balance, then if a transaction is pending for a skipped nonce, you should resend the transaction with ",(0,t.jsx)(n.strong,{children:"the correct nonce"}),". If a transaction is pending for other reasons, you can ",(0,t.jsx)(n.strong,{children:"resend the transaction with a higher gasPrice"})," and same nonce."]}),"\n",(0,t.jsx)(n.h3,{id:"\u5982\u4f55\u6b63\u786e\u8bbe\u7f6e-gasprice",children:"\u5982\u4f55\u6b63\u786e\u8bbe\u7f6e gasPrice\uff1f"}),"\n",(0,t.jsx)(n.p,{children:"\u4ea4\u6613\u7684\u6253\u5305\u548c\u6267\u884c\u901f\u5ea6\u4e3b\u8981\u53d7\u4ea4\u6613\u7684 gasPrice \u5f71\u54cd\u3002 gasPrice \u8d8a\u9ad8\uff0c\u4ea4\u6613\u88ab\u77ff\u5de5\u6253\u5305\u7684\u901f\u5ea6\u5c31\u8d8a\u5feb\uff0c\u56e0\u6b64\u6b63\u786e\u8bbe\u7f6e gasPrice \u975e\u5e38\u91cd\u8981\u3002"}),"\n",(0,t.jsxs)(n.p,{children:["You can use the ",(0,t.jsx)(n.a,{href:"/docs/core/build/json-rpc/cfx-namespace#cfx_gasprice",children:(0,t.jsx)(n.code,{children:"cfx_gasPrice"})})," RPC method of fullnode to get a suggested gasPrice value. \u8be5\u65b9\u6cd5\u4f1a\u6839\u636e\u6700\u65b0\u51e0\u4e2a\u5757\u7684 gas \u4f7f\u7528\u60c5\u51b5\u548c\u5176\u4e2d\u4ea4\u6613\u7684 gasPrice \u7ed9\u51fa\u5efa\u8bae\u7684\u503c\u3002"]}),"\n",(0,t.jsx)(n.p,{children:"In the case of network congestion, you can check the current gasPrice situation on Scan's gasPrice panel. Using the highest gasPrice allows you to achieve the fastest transaction processing speed."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:s(84147).Z+"",width:"397",height:"328"})})]})}function l(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},84147:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/scan-gas-price2-506fe2766a3293388eb563fd9f329898.png"},58368:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/scan-pending-detail-02-2e688fd1d0d2ab438274b226aefc545b.png"},23851:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/scan-pending-entry-03-e49e27948df9341d61ad8a37d684b048.png"},35199:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/scan-pending-tx-list-04-44522efa4034f309163b830b27a9e345.png"},30032:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/tx-pending-01-b1f2e9964d8aa9c0d65c697a7db0f236.png"},11151:(e,n,s)=>{s.d(n,{Z:()=>a,a:()=>o});var t=s(67294);const i={},c=t.createContext(i);function o(e){const n=t.useContext(c);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(c.Provider,{value:n},e.children)}}}]);